(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7429c2c"],{2757:function(t,e,o){t.exports=o.p+"img/login_pic.cb101470.png"},"477b":function(t,e,o){},"6ba9":function(t,e,o){"use strict";var s=o("477b"),i=o.n(s);i.a},7047:function(t,e,o){"use strict";function s(t){var e=/^((13[0-9])|(17[0-1,6-8])|(15[^4,\\D])|(18[0-9]))\d{8}$/;return""==t?"账号不能为空":!!e.test(t)||"账号格式不正确"}function i(t){return console.log(String(t)),""==t?"密码不能为空":!(String(t).length<6&&String(t)>16)||"密码长度必须为6到16位"}o.d(e,"b",(function(){return s})),o.d(e,"a",(function(){return i}))},ede4:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._m(0),o("div",{directives:[{name:"show",rawName:"v-show",value:t.loginShow,expression:"loginShow"}],staticClass:"login_input_container"},[o("div",{staticClass:"login_input_wrapper"},[o("div",{staticClass:"tel_container"},[o("van-field",{class:1==t.active?"changBottom":"",attrs:{placeholder:"请输入手机号"},on:{focus:function(e){t.active=!0},blur:function(e){t.active=!1}},model:{value:t.loginTel,callback:function(e){t.loginTel=e},expression:"loginTel"}})],1),o("div",{staticClass:"pass_container"},[o("van-field",{class:1==t.nother?"changBottom":"",attrs:{placeholder:"请输入密码",type:"password"},on:{focus:function(e){t.nother=!0},blur:function(e){t.nother=!1}},model:{value:t.loginPass,callback:function(e){t.loginPass=e},expression:"loginPass"}})],1),o("div",{staticClass:"password_container"},[o("span",{on:{click:t.retrieve}},[t._v("找回密码")]),o("span",{on:{click:t.onClick}},[t._v("注册/验证码登录")])])])]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.logonShow,expression:"logonShow"}],staticClass:"logon_input_container"},[o("div",{staticClass:"logon_input_wrapper"},[o("div",{staticClass:"logon_tel_container"},[o("van-field",{class:1==t.active?"changBottom":"",attrs:{placeholder:"请输入手机号"},on:{focus:function(e){t.active=!0},blur:function(e){t.active=!1}},scopedSlots:t._u([{key:"button",fn:function(){return[o("span",{directives:[{name:"show",rawName:"v-show",value:t.getCode,expression:"getCode"}],on:{click:t.getmsg}},[t._v("获取验证码")]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.timeOut,expression:"timeOut"}],staticClass:"time_box"},[t._v(" 获取验证码 ("),o("van-count-down",{ref:"countDown",attrs:{time:t.time,format:"ss","auto-start":!1},on:{finish:t.timeend}}),t._v(") ")],1)]},proxy:!0}]),model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}})],1),o("div",{staticClass:"logon_pass_container"},[o("van-field",{class:1==t.nother?"changBottom":"",attrs:{placeholder:"请输入短信验证码"},on:{focus:function(e){t.nother=!0},blur:function(e){t.nother=!1}},model:{value:t.msgCode,callback:function(e){t.msgCode=e},expression:"msgCode"}})],1),o("div",{staticClass:"logon_password_container"},[o("span",[t._v("*未注册手机将自动注册")]),o("span",{on:{click:t.againClick}},[t._v("使用密码登录")])])])]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.loginShow,expression:"loginShow"}],staticClass:"login_button_container"},[o("div",{staticClass:"login_button_wrapper"},[o("van-button",{attrs:{type:"primary",size:"large",round:"",color:"linear-gradient(to right, #FF9349, #FC5500)"},on:{click:t.Signin}},[t._v("登录")])],1)]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.logonShow,expression:"logonShow"}],staticClass:"login_button_container"},[o("div",{staticClass:"login_button_wrapper"},[o("van-button",{attrs:{type:"primary",size:"large",round:"",color:"linear-gradient(to right, #FF9349, #FC5500)"},on:{click:t.logondenglu}},[t._v("注册")])],1)]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"mes"},[o("span",[t._v("手机号码格式不正确")])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login_pic_container"},[s("div",{staticClass:"login_pic_wrapper"},[s("div",{staticClass:"pic_container"},[s("img",{attrs:{src:o("2757"),alt:""}})])])])}],n=o("2b0e"),a=o("565f"),l=o("bc3a"),c=o.n(l),r=o("7047");n["default"].use(a["a"]);var g={data(){return{active:!1,nother:!1,loginShow:!0,logonShow:!1,tel:"",show:!1,loginTel:"",loginPass:"",time:6e4,timeOut:!1,getCode:!0,msgCode:"",showtime:!1}},methods:{onClick(){this.loginShow=!1,this.logonShow=!0},againClick(){this.loginShow=!0,this.logonShow=!1},getmsg(){1==Object(r["b"])(this.tel)?this.$http.post("/api/app/smsCode",{mobile:this.tel,sms_type:"login"}).then(t=>{console.log(t),200==t.data.code?(this.$refs.countDown.start(),this.getCode=!1,this.timeOut=!0):this.$toast({message:"当前请求频繁,请稍后再试",position:"top"})}):this.$toast({message:Object(r["b"])(this.tel),position:"top"})},retrieve(){this.$router.push("/Retrieve")},Signin(){return console.log(Object(r["a"])(this.loginPass)),1!=Object(r["b"])(this.loginTel)?(this.$toast({message:Object(r["b"])(this.loginTel),position:"top"}),!1):1!=Object(r["a"])(this.loginPass)?(this.$toast({message:Object(r["a"])(this.loginPass),position:"top"}),!1):void this.$http.post("/api/app/login",{mobile:this.loginTel,password:this.loginPass,type:1}).then(t=>{console.log(t.code),200==t.code&&(localStorage.Token=t.data.remember_token,localStorage.deviceid=t.data.device_id,console.log(t),localStorage.getItem("returnPage")&&"/mySet"!=localStorage.getItem("returnPage")?(console.log(localStorage.getItem("returnPage"),"/mySet"),this.$router.push(localStorage.getItem("returnPage"))):this.$router.push("/my"))})},async logondenglu(){let t=await c.a.post(" http://120.53.31.103:84/api/app/login",{mobile:this.tel,sms_code:this.msgCode,client:1,type:2});200==t.data.code?(localStorage.Token=t.data.data.remember_token,localStorage.deviceid=t.data.data.device_id,1==t.data.data.is_new?this.$router.push("/setPass"):this.$router.push("/my")):this.$toast({message:"验证码错误",position:"top"}),console.log(t)},timeend(){this.timeOut=!1,this.getCode=!0,this.$refs.countDown.reset()}}},u=g,h=(o("6ba9"),o("2877")),d=Object(h["a"])(u,s,i,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-a7429c2c.aafcafae.js.map