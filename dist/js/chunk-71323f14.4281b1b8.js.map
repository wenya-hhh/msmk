{"version":3,"sources":["webpack:///./src/components/Search.vue?ba64","webpack:///./src/assets/img/has_buy.png","webpack:///./src/utils/api.js","webpack:///./src/components/Search.vue?013b","webpack:///src/components/Search.vue","webpack:///./src/components/Search.vue?ef69","webpack:///./src/components/Search.vue"],"names":["module","exports","gets","url","data","get","params","post","all","first","type","pages","two","treen","cancelCollect","id","put","applyApi","shop_id","downOrder","StudyApi","myStudyComment","rmList","classify","classifys","collect","userInfo","teacher","teacherInfo","mainCourse","teacherComment","attention","cancelAttention","UCenterInfo","otoList","condition","invite","selectTime","updateImageSubmit","updateAjax","getAttribute","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","go","directives","name","rawName","value","query","expression","domProps","target","composing","$set","keywords","_v","getSearchList","clear","_l","i","k","key","keys","_s","list","length","finished","offsetTop","onLoad","model","callback","$$v","loading","item","index","push","title","staticStyle","_f","start_play_date","end_play_date","total_periods","teacher_avatar","teacher_name","has_buy","sales_num","staticRenderFns","historyList","JSON","parse","localStorage","getItem","limit","page","course_type","total","watch","val","setItem","stringify","filters","time","obj","Date","month","getMonth","toString","padStart","day","getDate","hour","getHours","minute","getMinutes","to","from","next","ispush","findIndex","res","console","log","methods","setTimeout","component"],"mappings":"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","file":"js/chunk-71323f14.4281b1b8.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=7ca86335&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=7ca86335&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/has_buy.49128523.png\";","import axios from \"./request.js\"\r\nimport http from \"axios\"\r\n\r\nexport function gets(url, data) {\r\n\r\n    return axios.get(url, {\r\n        params: data\r\n    })\r\n\r\n}\r\n\r\nexport function post(url, data) {\r\n    return axios.post(url, data)\r\n\r\n}\r\n\r\n\r\n// 课程首页的数据\r\nexport function all(params) {\r\n    return axios.get('/api/app/courseBasis', {\r\n        params\r\n    })\r\n}\r\n// 课程列表页的数据\r\nexport function first(type, pages) {\r\n    return axios.get('/api/app' + type, pages)\r\n}\r\n// 课程大纲的数据\r\nexport function two(type, pages) {\r\n    return axios.post('/api/app' + type, pages)\r\n}\r\n// 课程评论的数据\r\nexport function treen(type, pages) {\r\n    return axios.post('/api/app' + type, pages)\r\n}\r\n\r\n// 取消收藏\r\nexport function cancelCollect(id) {\r\n    return axios.put(`/api/app/collect/cancel/${id}/1`)\r\n}\r\n\r\n// 立即报名\r\nexport function applyApi(id) {\r\n    return axios.post(\"/api/app/order/shopInfo\", {\r\n        shop_id: id,\r\n        type: 5\r\n    })\r\n}\r\n\r\n// 提交订单\r\nexport function downOrder(params) {\r\n    return axios.post(\"/api/app/order/downOrder\", params)\r\n}\r\n\r\n// 学习\r\nexport function StudyApi(id) {\r\n    return axios.get(`/api/app/myStudy/course/${id}?`)\r\n}\r\n\r\n// 评论\r\nexport function myStudyComment(params) {\r\n    return axios.post(\"/api/app/myStudy/comment\", params)\r\n}\r\n\r\n// 移除列表\r\nexport function rmList() {\r\n    return axios(\"/api/app/myStudy/2?\")\r\n\r\n}\r\n\r\n// 特色课分类接口\r\nexport function classify() {\r\n    return axios.get(\"/api/app/courseClassify\")\r\n}\r\n\r\n// 特色课分类接口\r\nexport function classifys() {\r\n    return http.get(\"http://120.53.31.103:84/api/app/courseClassify\")\r\n}\r\n\r\n// 我的收藏\r\nexport function collect(params) {\r\n    return axios.get('/api/app/collect', {\r\n        params\r\n    })\r\n}\r\n\r\n// 我的个人信息\r\nexport function userInfo() {\r\n\r\n    return axios.get(\"/api/app/userInfo\")\r\n\r\n\r\n}\r\n\r\n// 讲师信息\r\nexport function teacher(id) {\r\n\r\n    return axios.get(\"/api/app/teacher/\" + id)\r\n\r\n}\r\n\r\n// 讲师介绍\r\nexport function teacherInfo(id) {\r\n\r\n    return axios.get(\"/api/app/teacher/info/\" + id)\r\n\r\n}\r\n\r\n// 主讲课程\r\nexport function mainCourse(params) {\r\n    return axios.post(\"api/app/teacher/mainCourse\", params)\r\n}\r\n\r\n// 讲师评价\r\nexport function teacherComment(params) {\r\n    return axios.post(\"api/app/teacher/comment\", params)\r\n}\r\n\r\n// 关注老师\r\nexport function attention(id) {\r\n    return axios.get(\"/api/app/teacher/collect/\" + id)\r\n}\r\n\r\n// 取消关注\r\nexport function cancelAttention(id){\r\n    return axios.put(\"/api/app/collect/cancel/\"+id+\"/2\")\r\n}\r\n\r\n// 个人主要信息\r\nexport function UCenterInfo(){\r\n\r\n   return axios.get(\"/api/app/getUCenterInfo\")\r\n}\r\n\r\n// 一对一辅导列表\r\nexport function otoList(params){\r\n    return axios.get(\"/api/app/otoCourse\",{params})\r\n}\r\n\r\n// 老师条件\r\nexport function condition(){\r\n    return axios.get(\"api/app/otoCourseOptions\")\r\n}\r\n\r\n// 预约时间列表\r\nexport function invite(params){\r\n    return axios.post(\"api/app/teacher/invite\",params)\r\n}\r\n\r\n// 预约时间\r\nexport function selectTime(params){\r\n    return axios.post(\"/api/app/teacher/invite\",params)\r\n}\r\n\r\n// 上传图片接口调用\r\nexport function updateImageSubmit(params) {\r\n    return axios.post(`/api/app/public/img`,params)\r\n}\r\n\r\n// 上传图片接口调用\r\nexport function updateAjax(params) {\r\n    return axios.put(`/api/app/user`,params)\r\n}\r\n\r\n// 获取年级学科属性\r\nexport function getAttribute(){\r\n\r\n    return axios(\"/api/app/module/attribute/1?\")\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('header',[_c('van-icon',{attrs:{\"name\":\"arrow-left\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query.keywords),expression:\"query.keywords\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入内容\"},domProps:{\"value\":(_vm.query.keywords)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.query, \"keywords\", $event.target.value)}}}),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query.keywords == ''),expression:\"query.keywords == ''\"}]},[_vm._v(\"取消\")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query.keywords != ''),expression:\"query.keywords != ''\"}],on:{\"click\":_vm.getSearchList}},[_vm._v(\"搜索\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query.keywords == ''),expression:\"query.keywords == ''\"}],staticClass:\"history\"},[_c('div',[_c('p',[_vm._v(\"历史搜索\")]),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":_vm.clear}})]),_c('ul',_vm._l((_vm.historyList),function(i,k){return _c('li',{key:k,on:{\"click\":function($event){return _vm.keys(i)}}},[_vm._v(\" \"+_vm._s(i)+\" \")])}),0)]),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.list.length>0),expression:\"this.list.length>0\"}]},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"offset\":_vm.offsetTop,\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('van-cell',{key:index},[_c('div',{on:{\"click\":function($event){return _vm.$router.push('/couserDetail?couserDetailId=' + item.id)}}},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"time\"},[_c('van-icon',{staticStyle:{\"margin-right\":\"0.1rem\"},attrs:{\"name\":\"clock-o\"}}),_c('span',[_vm._v(_vm._s(_vm._f(\"time\")(item.start_play_date))+\" ~ \"+_vm._s(_vm._f(\"time\")(item.end_play_date)))]),_c('span',{staticStyle:{\"margin-left\":\"0.1rem\",\"margin-right\":\"0.1rem\"}},[_vm._v(\"|\")]),_c('span',[_vm._v(\"共\"+_vm._s(item.total_periods)+\"课时\")])],1),_vm._l((item.teachers_list),function(i,k){return _c('div',{key:k,staticClass:\"tou\"},[_c('p',[_c('img',{attrs:{\"src\":i.teacher_avatar,\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(i.teacher_name))])]),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.has_buy==1),expression:\"item.has_buy==1\"}],attrs:{\"src\":require(\"@/assets/img/has_buy.png\"),\"alt\":\"\"}})])}),_c('p',{staticClass:\"section_p\"},[_c('span',[_vm._v(_vm._s(item.sales_num)+\"人已报名\")]),_c('span',{staticStyle:{\"color\":\"green\",\"font-size\":\"0.18rem\"}},[_vm._v(\"免费\")])])],2)])}),1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search\">\r\n    <header>\r\n      <van-icon @click=\"$router.go(-1)\" name=\"arrow-left\" />\r\n      <input v-model=\"query.keywords\" type=\"text\" placeholder=\"请输入内容\" />\r\n      <p v-show=\"query.keywords == ''\">取消</p>\r\n      <p @click=\"getSearchList\" v-show=\"query.keywords != ''\">搜索</p>\r\n    </header>\r\n\r\n    <div v-show=\"query.keywords == ''\" class=\"history\">\r\n      <div>\r\n        <p>历史搜索</p>\r\n        <i @click=\"clear\" class=\"el-icon-delete\"></i>\r\n      </div>\r\n      <ul>\r\n        <li @click=\"keys(i)\" v-for=\"(i, k) in historyList\" :key=\"k\">\r\n          {{ i }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n           <!-- 中间课程 -->\r\n    <section v-show=\"this.list.length>0\">\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        :offset=\"offsetTop\"\r\n        :immediate-check=\"false\"\r\n        @load=\"onLoad\"\r\n      >\r\n        <van-cell v-for=\"(item, index) in list\" :key=\"index\">\r\n          <div @click=\"$router.push('/couserDetail?couserDetailId=' + item.id)\">\r\n            <p class=\"title\">{{ item.title }}</p>\r\n            <div class=\"time\">\r\n              <van-icon name=\"clock-o\" style=\"margin-right: 0.1rem\" />\r\n              <span\r\n                >{{ item.start_play_date | time }} ~\r\n                {{ item.end_play_date | time }}</span\r\n              >\r\n              <span style=\"margin-left: 0.1rem; margin-right: 0.1rem\">|</span>\r\n              <span>共{{ item.total_periods }}课时</span>\r\n            </div>\r\n            <div class=\"tou\" v-for=\"(i, k) in item.teachers_list\" :key=\"k\">\r\n              <p>\r\n                 <img :src=\"i.teacher_avatar\" alt />\r\n              <span>{{ i.teacher_name }}</span>\r\n              </p>\r\n             \r\n              <img v-show=\"item.has_buy==1\" src=\"@/assets/img/has_buy.png\" alt=\"\">\r\n            </div>\r\n            <p class=\"section_p\">\r\n              <span>{{ item.sales_num }}人已报名</span>\r\n              <span style=\"color: green; font-size: 0.18rem\">免费</span>\r\n            </p>\r\n          </div>\r\n        </van-cell>\r\n      </van-list>\r\n    </section>\r\n\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { all } from \"@/utils/api\";\r\n\r\nexport default {\r\n  name: \"search\", //搜索\r\n  data() {\r\n    return {\r\n      historyList:JSON.parse(localStorage.getItem(\"SearchHistory\")) || [],\r\n      offsetTop:0,\r\n      query:{\r\n           limit: 10,\r\n        page: 1,\r\n        course_type: 0,\r\n        keywords:\"\"\r\n      },\r\n      total:\"\",\r\n       loading: false,\r\n      finished: false,\r\n      list:[]\r\n    };\r\n  },\r\n  \r\n\r\n  watch: {\r\n    historyList(val) {\r\n      \r\n      localStorage.setItem(\"SearchHistory\",JSON.stringify(val))\r\n\r\n    },\r\n  },\r\n  filters: {\r\n    time: function (val) {\r\n      var obj = new Date(val);\r\n      // 月\r\n      var month = (obj.getMonth() + 1).toString().padStart(2, \"0\");\r\n      // 日\r\n      var day = obj.getDate().toString().padStart(2, \"0\");\r\n      // 时\r\n      var hour = obj.getHours().toString().padStart(2, \"0\");\r\n      // 分\r\n      var minute = obj.getMinutes().toString().padStart(2, \"0\");\r\n      return month + \"月\" + day + \"日\" + \" \" + hour + \":\" + minute;\r\n    },\r\n  },\r\n  mounted() {},\r\n  beforeRouteLeave(to,from,next){\r\n     \r\n    \r\n    let ispush= this.historyList.findIndex((res)=>{\r\n         return res==this.query.keywords\r\n     })\r\n     if(ispush==-1){\r\n this.historyList.push(this.query.keywords)\r\n     }\r\n     console.log(ispush)\r\n      next()\r\n  },\r\n  methods: {\r\n     \r\n\r\n    keys(i){\r\n             this.query.keywords=i\r\n    },\r\n\r\n    // 删除历史记录\r\n    clear(){\r\n\r\n        this.historyList=[]\r\n\r\n    },\r\n\r\n    //    搜索数据\r\n    async getSearchList() {\r\n      let res = await all(\r\n       this.query\r\n      );\r\n\r\n      console.log(res)\r\n      this.list=res.data.list\r\n      this.total=res.data.total\r\n\r\n    },\r\n   \r\n//    触底加载\r\n\r\n    onLoad() {\r\n      // 异步更新数据\r\n      // setTimeout 仅做示例，真实场景中一般为 ajax 请求\r\n      setTimeout(() => {\r\n        if (this.query.limit < this.total) {\r\n          this.query.limit+=5;\r\n          this.getSearchList();\r\n        } else {\r\n          this.finished = true;\r\n        }\r\n\r\n        // 加载状态结束\r\n        this.loading = false;\r\n\r\n        // 数据全部加载完成\r\n        if (this.list.length >= this.total) {\r\n          this.finished = true;\r\n        }\r\n      }, 1000);\r\n    },\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\nheader {\r\n  width: 100%;\r\n  height: 0.5rem;\r\n  background: white;\r\n  display: flex;\r\n  padding: 0.06 0.2rem;\r\n//   margin-bottom: 0.2rem;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  border-bottom: 0.02rem #eaeaea solid;\r\n  > :nth-child(1) {\r\n    font-size: 0.26rem;\r\n    font-weight: bold;\r\n    margin-left: 0.1rem;\r\n  }\r\n  > :nth-child(2) {\r\n    width: 3rem;\r\n    height: 0.38rem;\r\n    outline: none;\r\n    border: 0;\r\n    border-radius: 0.15rem;\r\n\r\n    background: #e4e7ed;\r\n    display: flex;\r\n    align-items: center;\r\n    text-indent: 0.25rem;\r\n    font-size: 0.2rem;\r\n  }\r\n  > :nth-child(3) {\r\n    font-size: 0.2rem;\r\n    color: #d2d2d1;\r\n    //   margin-right: 0.2rem;\r\n  }\r\n  > :nth-child(4) {\r\n    font-size: 0.2rem;\r\n    font-weight: bold;\r\n  }\r\n}\r\n\r\n// 历史搜搜记录\r\n.history {\r\n  flex: 1;\r\n  margin-top: 0.3rem;\r\n  padding: 0 0.16rem;\r\n  > :nth-child(1) {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    > :nth-child(1) {\r\n      font-size: 0.2rem;\r\n      font-weight: bold;\r\n    }\r\n    > :nth-child(2) {\r\n      font-size: 0.2rem;\r\n    }\r\n  }\r\n\r\n  > :nth-child(2) {\r\n    width: 100%;\r\n    display: flex;\r\n    margin-top: 0.2rem;\r\n    li {\r\n      padding: 0.1rem;\r\n      background: #f7f7f7;\r\n      display: flex;\r\n      height: 0.28rem;\r\n      justify-content: center;\r\n      align-items: center;\r\n      font-size: 0.16rem;\r\n      border-radius: 0.14rem;\r\n      margin-right: 0.1rem;\r\n    }\r\n  }\r\n}\r\n\r\nsection {\r\n  flex: 1;\r\n  background: #F0F2F5;\r\n  overflow: auto;\r\n  padding-top: 0.2rem;\r\n}\r\n\r\n.van-list {\r\n  width: 100%;\r\n  min-height: 101%;\r\n  padding: 0.15rem 0.15rem;\r\n}\r\n.van-cell {\r\n  width: 100%;\r\n\r\n  // height: 1.9rem;\r\n  background: white;\r\n  box-sizing: border-box;\r\n  padding: 0 0.15rem;\r\n  margin-bottom: 0.15rem !important;\r\n  border-radius: 0.05rem;\r\n  padding-top: 0.15rem;\r\n  .title{\r\n      font-size: 0.2rem !important;\r\n  }\r\n  .time {\r\n    width: 100%;\r\n    height: 0.3rem;\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 0.12rem;\r\n    color: #666666;\r\n  }\r\n  .tou {\r\n    width: 3.5rem;\r\n    height: 0.8rem;\r\n    display: flex;\r\n    font-size: 0.12rem;\r\n    align-items: center;\r\n    color: #666666;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    >:nth-child(2){\r\n      width: 0.72rem;\r\n      height: 0.59rem;\r\n    }\r\n    p{\r\n      width: 0.9rem;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n       img {\r\n      width: 0.3rem;\r\n      height: 0.3rem;\r\n      border-radius: 50%;\r\n      margin-right: 0.1rem;\r\n    }\r\n    }\r\n   \r\n  }\r\n  .section_p {\r\n    width: 100%;\r\n    height: 0.5rem;\r\n    // background: red;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    border-top: 1px solid #f0f2f5;\r\n    span {\r\n      font-size: 0.12rem;\r\n      color: #666666;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=7ca86335&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=7ca86335&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ca86335\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}