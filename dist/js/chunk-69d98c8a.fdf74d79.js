(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69d98c8a"],{"4bfd":function(t,a,e){t.exports=e.p+"img/has_buy.49128523.png"},"4cab":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"couser"},[n("header",[n("van-nav-bar",{attrs:{title:"特色课"},scopedSlots:t._u([{key:"right",fn:function(){return[n("van-icon",{attrs:{name:"search",size:"24",color:"black"},on:{click:function(a){return t.toSearch()}}})]},proxy:!0}])}),n("van-dropdown-menu",[n("van-dropdown-item",{ref:"classify",attrs:{title:"分类"}},[n("div",{staticClass:"box"},[t._l(t.attrclassify,(function(a,e){return n("div",{key:e,staticClass:"top"},[n("p",[t._v(t._s(a.name))]),n("div",{staticClass:"s"},t._l(a.child,(function(i,r){return n("span",{key:r,class:{active:t.grade==a.id+"."+i.id||t.subject==a.id+"."+i.id},on:{click:function(n){return t.classify(e,a.id,i.id)}}},[t._v(t._s(i.name))])})),0)])})),n("div",{staticClass:"bt"},[n("button",{staticStyle:{border:"1px solid #f1f1f1"},on:{click:function(a){return t.classifyReset()}}},[t._v("重置")]),n("button",{staticStyle:{background:"orange",color:"white"},on:{click:t.submitClassify}},[t._v("确定")])])],2)]),n("van-dropdown-item",{ref:"sort",attrs:{title:"排序"}},[n("ul",t._l(t.sortArr,(function(a,e){return n("li",{key:e,class:{sortActive:e==t.sortActive},on:{click:function(a){return t.sort(e)}}},[t._v(t._s(a))])})),0)]),n("van-dropdown-item",{ref:"screen",attrs:{id:"screen",title:"筛选"}},[n("div",{staticClass:"shai"},t._l(t.appCourseType,(function(a,e){return n("span",{key:e,class:{active:e==t.appCourseTypeActive},on:{click:function(n){return t.selectAppCourseType(e,a.id)}}},[t._v(t._s(a.name))])})),0)])],1)],1),n("section",[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",offset:t.offsetTop,"immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.arr,(function(a,i){return n("van-cell",{key:i},[n("div",{on:{click:function(e){return t.$router.push("/couserDetail?couserDetailId="+a.id)}}},[n("p",[t._v(t._s(a.title))]),n("div",{staticClass:"time"},[n("van-icon",{staticStyle:{"margin-right":"0.1rem"},attrs:{name:"clock-o"}}),n("span",[t._v(t._s(t._f("time")(a.start_play_date))+" ~ "+t._s(t._f("time")(a.end_play_date)))]),n("span",{staticStyle:{"margin-left":"0.1rem","margin-right":"0.1rem"}},[t._v("|")]),n("span",[t._v("共"+t._s(a.total_periods)+"课时")])],1),t._l(a.teachers_list,(function(i,r){return n("div",{key:r,staticClass:"tou"},[n("p",[n("img",{attrs:{src:i.teacher_avatar,alt:""}}),n("span",[t._v(t._s(i.teacher_name))])]),n("img",{directives:[{name:"show",rawName:"v-show",value:1==a.has_buy,expression:"item.has_buy==1"}],attrs:{src:e("4bfd"),alt:""}})])})),n("p",{staticClass:"section_p"},[n("span",[t._v(t._s(a.sales_num)+"人已报名")]),n("span",{staticStyle:{color:"green","font-size":"0.18rem"}},[t._v("免费")])])],2)])})),1)],1)])},i=[],r=e("7c15"),s={name:"",props:[],components:{},data(){return{arr:[],sortActive:0,grade:1.1,subject:2.1,sortArr:["综合排序","最新","最热","价格从低到高","价格从高到低"],attrclassify:[],appCourseTypeActive:0,switch1:!1,switch2:!1,loading:!1,finished:!1,appCourseType:[],classifyObj:{page:1,limit:4,course_type:"",classify_id:"",order_by:"",attr_val_id:"",is_vip:0},total:"",lastpage:"",offsetTop:0}},computed:{},watch:{},methods:{toSearch(){this.$router.push("/search")},sort(t){this.sortActive=t,this.classifyObj.order_by=t,this.ajax(),this.$refs.sort.toggle()},selectAppCourseType(t,a){this.appCourseTypeActive=t,this.$refs.screen.toggle(),this.classifyObj.course_type=a,this.classifyObj.page=1,this.classifyObj.limit=4,this.ajax()},submitClassify(){this.classifyObj.page=1,this.classifyObj.limit=4,this.ajax(),this.$refs.classify.toggle()},classifyReset(){this.classifyObj={page:1,limit:4,course_type:"",classify_id:"",order_by:"",attr_val_id:"",is_vip:0},this.ajax(),this.$refs.classify.toggle()},classify(t,a,e){1==a?this.grade=a+"."+e:this.subject=a+"."+e,this.classifyObj.attr_val_id=a+","+e,console.log(this.grade)},async getClassify(){let t=await Object(r["h"])(),a=await Object(r["j"])();console.log(t),this.appCourseType=a.data.data.appCourseType,this.attrclassify=t.data.attrclassify,console.log(this.attrclassify)},onLoad(){setTimeout(()=>{this.classifyObj.limit<this.total?(this.classifyObj.limit+=5,this.ajax()):this.finished=!0,this.loading=!1,this.arr.length>=this.total&&(this.finished=!0)},1e3)},async ajax(){let t=await Object(r["c"])(this.classifyObj);console.log(t),this.lastpage=t.data.last_page,this.total=t.data.total,this.arr=t.data.list,console.log(this.arr)}},filters:{time:function(t){var a=new Date(t),e=(a.getMonth()+1).toString().padStart(2,"0"),n=a.getDate().toString().padStart(2,"0"),i=a.getHours().toString().padStart(2,"0"),r=a.getMinutes().toString().padStart(2,"0");return e+"月"+n+"日 "+i+":"+r}},created(){},mounted(){this.ajax(),this.getClassify()},updated(){},activated(){},deactivated(){}},o=s,c=(e("7473"),e("2877")),u=Object(c["a"])(o,n,i,!1,null,"5d5fe622",null);a["default"]=u.exports},7473:function(t,a,e){"use strict";var n=e("ff1e"),i=e.n(n);i.a},"7c15":function(t,a,e){"use strict";e.d(a,"r",(function(){return s})),e.d(a,"w",(function(){return o})),e.d(a,"c",(function(){return c})),e.d(a,"n",(function(){return u})),e.d(a,"D",(function(){return p})),e.d(a,"C",(function(){return l})),e.d(a,"g",(function(){return f})),e.d(a,"d",(function(){return d})),e.d(a,"m",(function(){return h})),e.d(a,"a",(function(){return y})),e.d(a,"u",(function(){return g})),e.d(a,"x",(function(){return _})),e.d(a,"h",(function(){return m})),e.d(a,"j",(function(){return v})),e.d(a,"k",(function(){return b})),e.d(a,"G",(function(){return j})),e.d(a,"z",(function(){return C})),e.d(a,"B",(function(){return k})),e.d(a,"t",(function(){return w})),e.d(a,"A",(function(){return O})),e.d(a,"e",(function(){return S})),e.d(a,"f",(function(){return x})),e.d(a,"b",(function(){return A})),e.d(a,"v",(function(){return T})),e.d(a,"l",(function(){return $})),e.d(a,"s",(function(){return D})),e.d(a,"y",(function(){return I})),e.d(a,"F",(function(){return z})),e.d(a,"E",(function(){return B})),e.d(a,"p",(function(){return E}));var n=e("b775"),i=e("bc3a"),r=e.n(i);function s(t,a){return n["a"].get(t,{params:a})}function o(t,a){return n["a"].post(t,a)}function c(t){return n["a"].get("/api/app/courseBasis",{params:t})}function u(t,a){return n["a"].get("/api/app"+t,a)}function p(t,a){return n["a"].post("/api/app"+t,a)}function l(t,a){return n["a"].post("/api/app"+t,a)}function f(t){return n["a"].put(`/api/app/collect/cancel/${t}/1`)}function d(t){return n["a"].post("/api/app/order/shopInfo",{shop_id:t,type:5})}function h(t){return n["a"].post("/api/app/order/downOrder",t)}function y(t){return n["a"].get(`/api/app/myStudy/course/${t}?`)}function g(t){return n["a"].post("/api/app/myStudy/comment",t)}function _(){return Object(n["a"])("/api/app/myStudy/2?")}function m(){return n["a"].get("/api/app/courseClassify")}function v(){return r.a.get("http://120.53.31.103:84/api/app/courseClassify")}function b(t){return n["a"].get("/api/app/collect",{params:t})}function j(){return n["a"].get("/api/app/userInfo")}function C(t){return n["a"].get("/api/app/teacher/"+t)}function k(t){return n["a"].get("/api/app/teacher/info/"+t)}function w(t){return n["a"].post("api/app/teacher/mainCourse",t)}function O(t){return n["a"].post("api/app/teacher/comment",t)}function S(t){return n["a"].get("/api/app/teacher/collect/"+t)}function x(t){return n["a"].put("/api/app/collect/cancel/"+t+"/2")}function A(){return n["a"].get("/api/app/getUCenterInfo")}function T(t){return n["a"].get("/api/app/otoCourse",{params:t})}function $(){return n["a"].get("api/app/otoCourseOptions")}function D(t){return n["a"].post("api/app/teacher/invite",t)}function I(t){return n["a"].post("/api/app/teacher/invite",t)}function z(t){return n["a"].post("/api/app/public/img",t)}function B(t){return n["a"].put("/api/app/user",t)}function E(){return Object(n["a"])("/api/app/module/attribute/1?")}},ff1e:function(t,a,e){}}]);
//# sourceMappingURL=chunk-69d98c8a.fdf74d79.js.map