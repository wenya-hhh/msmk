{"version":3,"sources":["webpack:///./src/components/myChild/ChangePass.vue?fc5b","webpack:///./src/plugins/phoneTest.js","webpack:///./src/components/myChild/ChangePass.vue?fc83","webpack:///src/components/myChild/ChangePass.vue","webpack:///./src/components/myChild/ChangePass.vue?ea25","webpack:///./src/components/myChild/ChangePass.vue"],"names":["phoneTest","val","reg","test","passwordTest","console","log","String","length","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onClickLeft","class","active","$event","scopedSlots","_u","key","fn","directives","name","rawName","value","expression","getmsg","_v","ref","time","timeend","proxy","model","callback","$$v","tel","nother","msgCode","nother1","pass","Signin","staticRenderFns","getCode","timeOut","show","wrong","methods","$router","push","setTimeout","$refs","countDown","start","$http","post","mobile","sms_type","then","res","reset","password","sms_code","component"],"mappings":"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","file":"js/chunk-168a78ac.a7079900.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePass.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePass.vue?vue&type=style&index=0&lang=scss&\"","import vue from 'vue'\r\n\r\n\r\n// 账号验证\r\nexport function phoneTest(val){\r\n    var reg = /^((13[0-9])|(17[0-1,6-8])|(15[^4,\\\\D])|(18[0-9]))\\d{8}$/;\r\n   if(val==\"\"){\r\n       return \"账号不能为空\"\r\n   }else if(!reg.test(val)){\r\n      return \"账号格式不正确\"\r\n   }\r\n       return true\r\n   \r\n}\r\n\r\n// 密码验证\r\n\r\nexport function passwordTest(val){\r\n    console.log(String(val))\r\n    if(val==\"\"){\r\n          return \"密码不能为空\"\r\n    }else if(String(val).length<6&&String(val)>16){\r\n          return \"密码长度必须为6到16位\"\r\n    }\r\n    return true\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"change_container\"},[_c('div',{staticClass:\"back_container\"},[_c('van-nav-bar',{attrs:{\"title\":\"设置密码\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}})],1),_c('div',{staticClass:\"con_container\"},[_c('div',{staticClass:\"con_wrapper\"},[_c('div',{staticClass:\"tel_container\"},[_c('van-field',{class:_vm.active == true ? 'changBottom' : '',attrs:{\"placeholder\":\"请输入手机号\"},on:{\"focus\":function($event){_vm.active = true},\"blur\":function($event){_vm.active = false}},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getCode),expression:\"getCode\"}],on:{\"click\":_vm.getmsg}},[_vm._v(\"获取验证码\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.timeOut),expression:\"timeOut\"}],staticClass:\"time_box\"},[_vm._v(\" 获取验证码 (\"),_c('van-count-down',{ref:\"countDown\",attrs:{\"time\":_vm.time,\"format\":\"ss\",\"auto-start\":false},on:{\"finish\":_vm.timeend}}),_vm._v(\") \")],1)]},proxy:true}]),model:{value:(_vm.tel),callback:function ($$v) {_vm.tel=$$v},expression:\"tel\"}})],1),_c('div',{staticClass:\"pass_container\"},[_c('van-field',{class:_vm.nother == true ? 'changBottom' : '',attrs:{\"placeholder\":\"请输入短信验证码\"},on:{\"focus\":function($event){_vm.nother = true},\"blur\":function($event){_vm.nother = false}},model:{value:(_vm.msgCode),callback:function ($$v) {_vm.msgCode=$$v},expression:\"msgCode\"}})],1),_c('div',{staticClass:\"pass_container\"},[_c('van-field',{class:_vm.nother1 == true ? 'changBottom' : '',attrs:{\"placeholder\":\"请输入密码\"},on:{\"focus\":function($event){_vm.nother1 = true},\"blur\":function($event){_vm.nother1 = false}},model:{value:(_vm.pass),callback:function ($$v) {_vm.pass=$$v},expression:\"pass\"}})],1),_c('div',{staticClass:\"button_wrapper\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"large\",\"round\":\"\",\"color\":\"linear-gradient(to right, #FF9349, #FC5500)\"},on:{\"click\":_vm.Signin}},[_vm._v(\"确定\")])],1)])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"mes\"},[_c('span',[_vm._v(\"手机号码格式不正确\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.wrong),expression:\"wrong\"}],staticClass:\"mes\"},[_c('span',[_vm._v(\"输入有误，请检查\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"change_container\">\r\n    <div class=\"back_container\">\r\n      <van-nav-bar title=\"设置密码\" left-arrow @click-left=\"onClickLeft\" />\r\n    </div>\r\n    <div class=\"con_container\">\r\n      <div class=\"con_wrapper\">\r\n        <!-- 输入手机号 -->\r\n        <div class=\"tel_container\">\r\n          <van-field\r\n            placeholder=\"请输入手机号\"\r\n            :class=\"active == true ? 'changBottom' : ''\"\r\n            @focus=\"active = true\"\r\n            @blur=\"active = false\"\r\n            v-model=\"tel\"\r\n          >\r\n            <template #button>\r\n              <span @click=\"getmsg\" v-show=\"getCode\">获取验证码</span>\r\n              <div class=\"time_box\" v-show=\"timeOut\">\r\n                获取验证码 (<van-count-down\r\n                  ref=\"countDown\"\r\n                  :time=\"time\"\r\n                  format=\"ss\"\r\n                  @finish=\"timeend\"\r\n                  :auto-start=\"false\"\r\n                />)\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n        </div>\r\n        <!-- 短信验证码 -->\r\n        <div class=\"pass_container\">\r\n          <van-field\r\n            placeholder=\"请输入短信验证码\"\r\n            :class=\"nother == true ? 'changBottom' : ''\"\r\n            @focus=\"nother = true\"\r\n            @blur=\"nother = false\"\r\n            v-model=\"msgCode\"\r\n          />\r\n        </div>\r\n        <!-- 密码 -->\r\n        <div class=\"pass_container\">\r\n          <van-field\r\n            placeholder=\"请输入密码\"\r\n            :class=\"nother1 == true ? 'changBottom' : ''\"\r\n            @focus=\"nother1 = true\"\r\n            @blur=\"nother1 = false\"\r\n            v-model=\"pass\"\r\n          />\r\n        </div>\r\n        <div class=\"button_wrapper\">\r\n          <van-button\r\n            type=\"primary\"\r\n            size=\"large\"\r\n            round\r\n            color=\"linear-gradient(to right, #FF9349, #FC5500)\"\r\n            @click=\"Signin\"\r\n            >确定</van-button\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 弹出框 -->\r\n    <div class=\"mes\" v-show=\"show\">\r\n      <span>手机号码格式不正确</span>\r\n    </div>\r\n    <div class=\"mes\" v-show=\"wrong\">\r\n      <span>输入有误，请检查</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport { phoneTest } from \"@/plugins/phoneTest.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      tel: \"\",\r\n      getCode: true,\r\n      timeOut: false,\r\n      msgCode: \"\",\r\n      pass: \"\",\r\n      active: false,\r\n      nother: false,\r\n      nother1: false,\r\n      time: 1000 * 60,\r\n      show: false,\r\n      wrong: false,\r\n    };\r\n  },\r\n  methods: {\r\n    //   点击返回，返回到退出登录页面\r\n    onClickLeft() {\r\n      this.$router.push(\"/mySet\");\r\n    },\r\n    //   点击获取验证码按钮\r\n    getmsg() {\r\n      console.log(\"msg\");\r\n      if (this.tel == \"\" || !phoneTest(this.tel)) {\r\n        this.show = true;\r\n        setTimeout(() => {\r\n          this.show = false;\r\n        }, 1500);\r\n        return;\r\n      }\r\n      // 验证码倒计时\r\n      this.$refs.countDown.start();\r\n      // 验证码第一个样式消失\r\n      this.getCode = false;\r\n      // 验证码第二个样式出现\r\n      this.timeOut = true;\r\n      this.$http\r\n        .post(\"/api/app/smsCode\", {\r\n          mobile: this.tel,\r\n          sms_type: \"getPassword\",\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n        });\r\n    },\r\n\r\n    // 倒计时结束时触发样式改变\r\n    timeend() {\r\n      this.timeOut = false;\r\n      this.getCode = true;\r\n      this.$refs.countDown.reset();\r\n    },\r\n    // 确定按钮\r\n    Signin() {\r\n      //   console.log(deng);\r\n      if (this.tel == \"\" || !phoneTest(this.tel)) {\r\n        this.show = true;\r\n        setTimeout(() => {\r\n          this.show = false;\r\n        }, 1500);\r\n        return;\r\n      }\r\n      if (this.pass == \"\" || this.msgCode == \"\") {\r\n        this.wrong = true;\r\n        setTimeout(() => {\r\n          this.wrong = false;\r\n        }, 1500);\r\n        return;\r\n      }\r\n      console.log(111);\r\n      this.$http\r\n        .post(\"/api/app/password\", {\r\n          mobile: this.tel,\r\n          password: this.pass,\r\n          sms_code: this.msgCode,\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.change_container {\r\n  width: 100%;\r\n  .con_container {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    .con_wrapper {\r\n      width: 90%;\r\n      .tel_container {\r\n        border-bottom: 0.01rem solid rgba(122, 122, 122, 0.158);\r\n      }\r\n      .pass_container {\r\n        border-bottom: 0.01rem solid rgba(122, 122, 122, 0.158);\r\n      }\r\n      .button_wrapper {\r\n        width: 100%;\r\n        height: 1.5rem;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n      }\r\n    }\r\n  }\r\n}\r\n.changBottom {\r\n  border-bottom: 0.01rem solid #fc5500;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePass.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangePass.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangePass.vue?vue&type=template&id=2e4e9e1a&\"\nimport script from \"./ChangePass.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangePass.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChangePass.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}